{{ ansible_managed | comment('xml') }}

<datasource-configuration xmlns:this="http://xmlns.opennms.org/xsd/config/opennms-datasources"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://xmlns.opennms.org/xsd/config/opennms-datasources
  http://www.opennms.org/xsd/config/opennms-datasources.xsd ">

  <connection-pool factory="org.opennms.core.db.C3P0ConnectionFactory"
    idleTimeout="600"
    loginTimeout="3"
    minPool="50"
    maxPool="50"
    maxSize="50" />

  <jdbc-data-source name="opennms"
    database-name="{{ opennms_database_name }}"
    class-name="org.postgresql.Driver"
    url="jdbc:postgresql://localhost:5432/{{ opennms_database_name }}"
    user-name="{{ opennms_database_user }}"
    password="{{ opennms_database_pass }}" />

  <jdbc-data-source name="opennms-admin"
    database-name="postgres"
    class-name="org.postgresql.Driver"
    url="jdbc:postgresql://localhost:5432/postgres"
    user-name="{{ opennms_database_user }}"
    password="{{ opennms_database_pass }}" />

</datasource-configuration>
